
----------------
---ROLE
----------------
CREATE TABLE IF NOT EXISTS ROLES(
  ID_ROLE INT(11) NOT NULL AUTO_INCREMENT,
  NOMBRE VARCHAR(50) NOT NULL UNIQUE,
  PRIMARY KEY (ID_ROLE)
);

----------------
---USER
----------------
CREATE TABLE IF NOT EXISTS USERS (
  ID_USER INT(11) NOT NULL AUTO_INCREMENT,
  CORREO VARCHAR(50) NOT NULL,
  PW VARCHAR(50) NOT NULL ,
  NOMBRE VARCHAR(50) NOT NULL ,
  ID_ROLE INT(11) NOT NULL,
  PRIMARY KEY (ID_USER),
  CONSTRAINT FK_USER_ID_ROLE
    FOREIGN KEY (ID_ROLE)
    REFERENCES ROLES (ID_ROLE)
);

----------------
---PROMOTOR
----------------
CREATE TABLE IF NOT EXISTS PROMOTORES (
  ID_PROMOTOR INT(11) NOT NULL AUTO_INCREMENT,
  NOMBRE VARCHAR(50) NOT NULL,
  ID_USER INT(11) NOT NULL,
  PRIMARY KEY (ID_PROMOTOR),
  CONSTRAINT FK_PROMOTOR_ID_USER
    FOREIGN KEY (ID_USER)
    REFERENCES USERS (ID_USER)
);

----------------
---EMPRESAS
----------------
CREATE TABLE IF NOT EXISTS EMPRESAS (
  ID_EMPRESA INT(11) NOT NULL AUTO_INCREMENT,
  NOMBRE VARCHAR(100) NOT NULL,
  GIRO VARCHAR(50) NOT NULL,
  LINEA VARCHAR(50) NOT NULL,
  TELEFONO VARCHAR(14),
  RAZON_SOCIAL VARCHAR(100) NOT NULL,
  REGIMEN_FISCAL VARCHAR(100) NOT NULL,
  CURP VARCHAR(50) NOT NULL,
  CALLE VARCHAR(200) NOT NULL,
  NO_EXTERIOR VARCHAR(100) NOT NULL,
  NO_INTERIOR VARCHAR(100) NOT NULL,
  MUNICIPIO VARCHAR(50) NOT NULL,
  LOCALIDAD VARCHAR(50) NOT NULL,
  ESTADO VARCHAR(50) NOT NULL,
  CP VARCHAR(50) NOT NULL,
  REFERENCIA VARCHAR(200) NOT NULL,
  CORREO VARCHAR(100) NOT NULL,
  WEB VARCHAR(15),
  CONTACTO_ADMIN VARCHAR(50) ,
  SUCURSAL VARCHAR(50) ,
  LUGAR_EXPEDICION VARCHAR(100) ,
  COLONIA VARCHAR(50) ,
  LOGOTIPO BLOB NOT NULL,
  LLAVE_PRIVADA BLOB NOT NULL,
  CERTIFICADO_DIGITAL BLOB NOT NULL,
  PW VARCHAR(50) ,
  ENCABEZADO VARCHAR(250) ,
  PIE_DE_PAGINA VARCHAR(250) ,
  ACTIVO TINYINT(1),
  FECHA_CREACION TIMESTAMP,
  FECHA_ACTUALIZACION TIMESTAMP,
  PRIMARY KEY (ID_EMPRESA)
);

----------------
---CLIENT
----------------
CREATE TABLE IF NOT EXISTS CLIENTES (
  ID_CLIENT INT(11) NOT NULL AUTO_INCREMENT,
  ID_EMPRESA INT(11) NOT NULL,
  NOMBRE VARCHAR(50) NOT NULL,
  RFC VARCHAR(50) NOT NULL,
  RAZON_SOCIAL VARCHAR(50) NOT NULL,
  CORREO VARCHAR(50) NOT NULL,
  CALLE VARCHAR(50) NOT NULL,
  COLONIA VARCHAR(50) NOT NULL,
  ESTADO VARCHAR(50) NOT NULL,
  COO VARCHAR(50) NOT NULL,
  NO_INTERIOR VARCHAR(50) NOT NULL,
  NO_EXTERIOR VARCHAR(50) NOT NULL,
  MUNICIPIO VARCHAR(50) NOT NULL,
  PAIS VARCHAR(50) NOT NULL,
  CODIGO_POSTAL VARCHAR(50) NOT NULL,
  ACTIVO TINYINT(1),
  FECHA_CREACION TIMESTAMP,
  FECHA_ACTUALIZACION TIMESTAMP,
  PRIMARY KEY (RFC),
  CONSTRAINT FK_EMPRESA_CLIENTE
    FOREIGN KEY (ID_EMPRESA)
    REFERENCES EMPRESAS(ID_EMPRESA)
);

----------------
---CATALOGOS
----------------

CREATE TABLE IF NOT EXISTS CLAVE_UNIDAD(
	CLAVE VARCHAR(5) NOT NULL UNIQUE,
	TIPO VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100),
	NOMBRE VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS REGIMEN_FISCAL(
	CLAVE INT(10) NOT NULL UNIQUE,
	DESCRIPCION VARCHAR(100) NOT NULL,
	P_MORAL TINYINT(1) NOT NULL,
	P_FISICA TINYINT(1) NOT NULL,
	INICIO_VIGENCIA TIMESTAMP
);

CREATE TABLE IF NOT EXISTS USO_CFDI(
	CLAVE VARCHAR(10) NOT NULL UNIQUE,
	DESCRIPCION VARCHAR(100) NOT NULL,
	P_MORAL TINYINT(1) NOT NULL,
	P_FISICA TINYINT(1) NOT NULL,
	INICIO_VIGENCIA TIMESTAMP
);

CREATE TABLE IF NOT EXISTS CLAVE_PROD_SERV(
	CLAVE INT(10) NOT NULL UNIQUE,
	DESCRIPCION VARCHAR(500) NOT NULL,
	SIMILARES VARCHAR(500),
	INICIO_VIGENCIA TIMESTAMP
);

CREATE TABLE IF NOT EXISTS STATUS_FACTURAS(
	ID_STATUS_FACTURA INT(10) NOT NULL UNIQUE,
	STATUS_EVENTO VARCHAR(100) NOT NULL,
  STATUS_PAGO VARCHAR(100) NOT NULL,
	FECHA_CREACION TIMESTAMP,
  FECHA_ACTUALIZACION TIMESTAMP
);
