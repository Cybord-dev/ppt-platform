<div class="row">
  <div class="col-md-12">
    <nb-card class="inline-form-card">
      <nb-card-header>Clientes</nb-card-header>
      <nb-card-body>
        <div class="row">
          <div class="col-md-2">
            <label for="inputRFC" class="label">RFC cliente</label>
            <input type="text" class="form-control" [(ngModel)]="filterParams.rfc"
              [disabled]="filterParams.razonSocial.length > 0" nbInput fullWidth id="inputRfc"
              placeholder="RFC Cliente">
          </div>
          <div class="col-md-3">
            <label for="inputRazonSocial" class="label">Raz贸n social cliente</label>
            <input type="text" class="form-control" [(ngModel)]="filterParams.razonSocial"
              [disabled]="filterParams.rfc.length > 0" nbInput fullWidth id="InoputRazonSocial" placeholder="Raz贸n Social">
          </div>
          <div class="col-md-2" *ngIf="paths[2] !== 'promotor'">
            <label for="inputPromotor" class="label">Promotor</label>
            <input type="text" class="form-control" [(ngModel)]="filterParams.promotor" nbInput fullWidth id="inputEmail" placeholder="Correo promotor">
          </div>
          <div class="col-md-5">
            <label for="inputActivo" class="label">Estado cliente</label>
            <div class="row form-inline">
              <select id="inputActivo" class="form-control" [(ngModel)]="filterParams.status" style="display:block;"
                fullWidth>
                <option value="*">TODOS</option>
                <option value="1">ACTIVO</option>
                <option value="0">INACTIVO</option>
              </select>
              <p>&nbsp;&nbsp;&nbsp;&nbsp;</p>
              <button class="btn btn-primary" (click)="updateDataTable(0,10,filterParams)">BUSCAR</button>
              <p>&nbsp;&nbsp;&nbsp;&nbsp;</p>
              <button class="btn btn-primary" *ngIf="paths[2] === 'promotor'" (click)="redirectToCliente('*')">NUEVO CLIENTE</button>
            </div>
          </div>
        </div>
        <br>

      </nb-card-body>
    </nb-card>
  </div>
</div>


<div class="row">
  <div class="col-md-12">
    <nb-card>
      <nb-card-header>Clientes</nb-card-header>
      <nb-card-body>

        <div *ngIf="page.empty == true" class="alert alert-primary" role="alert">
          No se encontraron resultados
        </div>
        <div class="clearfix" *ngIf="page.empty == false">
          <strong>Resultados</strong>
          <button type="button" (click)="downloadHandler()" class="btn btn-success float-right">Descarga</button>
          <nb-select *ngIf="page.last==false || page.first" [selected]="pageSize" (selectedChange)="onChangePageSize($event)"
            id="inputPageSize" class="float-right">
            <nb-option value="10">10</nb-option>
            <nb-option *ngIf="page.number<(page.totalElements/20)" value="20">20</nb-option>
            <nb-option *ngIf="page.number<(page.totalElements/50)" value="50">50</nb-option>
          </nb-select>
        </div>
        <div class="table-responsive" *ngIf="page.empty == false">
          <table class="table">
            <thead class="thead-light">
              <tr>
                <th class="text-center">Acciones</th>
                <th class="text-center" scope="col">RFC</th>
                <th class="text-center" scope="col">Raz贸n Social</th>
                <th class="text-center" scope="col">Activo</th>
                <th class="text-center" scope="col">Promotor</th>
                <th class="text-center" scope="col">Email cliente</th>
                <th class="text-center" scope="col">Direcci贸n</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let fila of page.content">
                <td scope="row" class="text-center"> <button class="btn btn-outline-primary"
                    (click)="redirectToCliente(fila.informacionFiscal.rfc)"><i class="fa fa-edit"></i></button>
                </td>
                <td scope="row">{{fila.informacionFiscal.rfc}}</td>
                <td scope="row">{{fila.informacionFiscal.razonSocial}}</td>
                <td scope="row" *ngIf="fila.activo">ACTIVO</td>
                <td scope="row" *ngIf="!fila.activo">INACTIVO</td>
                <td scope="row">{{fila.correoPromotor}}</td>
                <td scope="row">{{fila.informacionFiscal.correo}}</td>
                <td scope="row">{{fila.informacionFiscal.calle}} , {{fila.informacionFiscal.noExterior}},
                  {{fila.informacionFiscal.localidad}}, {{fila.informacionFiscal.municipio}}, C.P.
                  {{fila.informacionFiscal.cp}}</td>
              </tr>
            </tbody>
          </table>

          <ul class="pagination" *ngIf="page.totalElements > 1">
            <li class="page-item" *ngIf="page.first==false"><button class="btn page-link"
                (click)="updateDataTable(0,page.size,filterParams)"><i class="nb-arrow-left"></i></button></li>
            <li class="page-item" *ngIf="page.first==false"><button class="btn page-link"
                (click)="updateDataTable(page.number-1,page.size,filterParams)">{{page.number}}</button></li>
            <li class="page-item active"><a class="page-link"><strong>{{page.number+1}}</strong></a></li>
            <li class="page-item" *ngIf="page.last==false"><button class="btn page-link"
                (click)="updateDataTable(page.number+1,page.size,filterParams)">{{page.number+2}}</button></li>
            <li class="page-item" *ngIf="page.last==false"><button class="btn page-link"
                (click)="updateDataTable(page.totalPages-1,page.size,filterParams)"><i class="nb-arrow-right"></i></button></li>
          </ul>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
</div>