<div class="row">
  <div class="col-md-12">
    <nb-card class="inline-form-card">
      <nb-card-header>Devoluciones</nb-card-header>
      <nb-card-body>
        <div>
          <div class="form-inline">
            <p class="font-weight-bold">Emisor:&nbsp;&nbsp;</p>
            <p>{{factura.rfcEmisor}}</p>&nbsp;&nbsp;
            <p>{{factura.razonSocialEmisor}}</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p class="font-weight-bold">Receptor :&nbsp;&nbsp;</p>
            <p>{{factura.rfcRemitente}}</p>&nbsp;&nbsp;
            <p>{{factura.razonSocialRemitente}}</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p class="font-weight-bold">Promotor :&nbsp;&nbsp;</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>{{factura.solicitante}}</p>

          </div>
          <br>
          <div class="form-inline">
            <p class="font-weight-bold">FOLIO:&nbsp;&nbsp;</p>
            <p>{{factura.folio}}</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p class="font-weight-bold">Uso CFDI:&nbsp;&nbsp;</p>
            <p>{{factura.cfdi.receptor.usoCfdi}}</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p class="font-weight-bold">Moneda:&nbsp;&nbsp;</p>
            <p>{{factura.cfdi.moneda}}</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p class="font-weight-bold">Total:&nbsp;&nbsp;</p>
            <p>{{factura.cfdi.total | currency}}</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p class="font-weight-bold">Subtotal:&nbsp;&nbsp;</p>
            <p>{{factura.cfdi.subtotal | currency}}</p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p class="font-weight-bold">Metodo de Pago:&nbsp;&nbsp;</p>
            <p>{{factura.cfdi.metodoPago}}</p>
          </div>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
</div>


<div class="row">
  <div class="col-md-12">
    <nb-card>
      <nb-card-header>Preferencia Devolucion Factura</nb-card-header>
      <nb-card-body>
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" role="tab">Cliente</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " id="profile-tab" data-toggle="tab" role="tab">Promotor</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="contact-tab" data-toggle="tab" role="tab">Contacto</a>
          </li>
        </ul>
        <!-- CLIENTE-->
        <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <form>
              <div class="form-row">
                <div class="form-group col-md-8">
                  <label for="inputBenerficario1" class="label">Beneficiario</label>
                  <input type="text" class="form-control" id="inputBenerficario1"
                    placeholder="Nombre completo beneficiario" [(ngModel)]="cliente.beneficiario" name="beneficiario">
                </div>
                <div class="form-group col-md-4">
                  <label for="inputImporte1" class="label"> Importe a solicitar</label>
                  <input type="number" class="form-control" id="inputImporte1" placeholder="Importe MXN"
                    [(ngModel)]="cliente.monto" name="monto">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-3">
                  <label for="inputFormaPago1" class="label">Forma de Pago</label>
                  <select id="inputFormaPago1" style="display:block;" class="form-control"
                    [(ngModel)]="cliente.formaPago" (change)="onPayFormSelected($event.target.value)" name="formapago">
                    <option value="*">Seleccionar</option>
                    <option value="EFECTIVO">Efectivo</option>
                    <option value="CHEQUE">Cheque nominativo</option>
                    <option value="TRANSFERENCIA">Transferencia electr√≥nica de fondos</option>
                    <option *ngIf="filterParams.tipoReceptor === 'CLIENTE'" value="FACTURA">Pago a factura</option>
                  </select>
                </div>
                <div class="form-group col-md-3">
                  <label for="inputBanco1" class="label">Banco</label>
                  <select id="inputBanco1" style="display:block;" class="form-control" [(ngModel)]="cliente.banco"
                    name="banco">
                    <option value="N/A">No Aplica</option>
                    <option *ngFor="let bank of banksCat" [value]="bank.nombre">{{bank.nombre}}</option>
                  </select>
                </div>
                <div class="form-group col-md-3">
                  <label for="inputTypeRef1" class="label">Tipo referencia</label>
                  <select id="inputTypeRef1" style="display:block;" class="form-control"
                    [(ngModel)]="cliente.tipoReferencia" name="tiporeferecnia">
                    <option value="*">Seleccionar</option>
                    <option *ngFor="let type of refTypesCat" [value]="type.id">{{type.nombre}}</option>
                  </select>
                </div>
                <div class="form-group col-md-3">
                  <label for="inputReferecnia1" class="label">Referencia</label>
                  <input type="text" class="form-control" id="inputReferecnia1" placeholder="XXXX-XXXX-XXXX"
                    [(ngModel)]="cliente.referencia" name="referencia">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-12">
                  <label for="inputObservaciones1" class="label">Observaciones/comentarios</label>
                  <input type="text" class="form-control" id="inputObservaciones1" [(ngModel)]="cliente.comentarios"
                    name="cometarios" placeholder="Observaciones o comentarios adicionales">
                </div>
              </div>
              <button type="submit" class="btn btn-primary" (click)="devolutionPreference(cliente)">Solicitar
                Devolucion</button>
            </form>
          </div>
        </div>



        <div class="alert alert-warning" *ngIf="messages.length > 0" role="alert">
          <p *ngFor="let message of messages">{{message}}</p>
        </div>

      </nb-card-body>
    </nb-card>


  </div>
</div>