<nb-card>
  <nb-card-header>Detalles devolucion</nb-card-header>
  <nb-card-body>

    <div class="alert alert-warning" role="alert" *ngIf="errorMesage!=undefined">
      {{errorMesage}}
    </div>

    <p class="font-weight-bold">Informaci√≥n del pago</p>
    <div class="form-inline">
      <p class="font-weight-bold">Beneficiario</p>
      &nbsp;&nbsp;&nbsp;
      <p>{{pago.comentarioPago}}</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
      <p class="font-weight-bold">Forma de Pago</p>
      &nbsp;&nbsp;&nbsp;
      <p>{{pago.formaPago}}</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
      <p class="font-weight-bold">Monto</p>
      &nbsp;&nbsp;&nbsp;
      <p>{{pago.monto | currency}}</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
      <p class="font-weight-bold">Cuenta/CLABE</p>
      <p>{{pago.cuenta}}</p>
    </div>
    <div class="form-inline">
      <p class="font-weight-bold">Banco</p>
      &nbsp;&nbsp;&nbsp;
      <p>{{pago.banco}}</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
      <p class="font-weight-bold">Solicitante</p>
      &nbsp;&nbsp;&nbsp;
      <p>{{pago.createUser}}</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
      <p class="font-weight-bold">Fecha Solicitud</p>
      &nbsp;&nbsp;&nbsp;
      <p>{{pago.fechaCreacion}}</p>
    </div>
    <div class="row">
      <div class="table-responsive" *ngIf="devoluciones.length > 0">
        <div class="clearfix">
          <strong>Resultados</strong>
        </div>
        <table class="table">
          <thead class="thead-light">
            <tr>
              <th scope="col" class="text-center">Folio Factura</th>
              <th scope="col" class="text-center">Tipo Receptor</th>
              <th scope="col" class="text-center">Receptor</th>
              <th scope="col" class="text-center">Estatus</th>
              <th scope="col" class="text-center">Monto</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let fila of devoluciones">
              <td scope="row" class="text-center"><button class="btn btn-outline-primary btn-sm"
                  (click)="redirectToCfdi(fila.folio)">{{fila.folio}}</button></td>
              <td scope="row" class="text-center">{{fila.tipoReceptor}}</td>
              <td scope="row" class="text-center">{{fila.receptor}}</td>
              <td scope="row" class="text-center">{{fila.statusDevolucion}}</td>
              <td scope="row" class="text-right">{{fila.monto | currency}}</td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>





  </nb-card-body>
  <nb-card-footer>
    <div class="form-inline">
      <p class="font-weight-bold">Fecha de pago</p>
      &nbsp;&nbsp;&nbsp;
      <input nbInput placeholder="Selecionar fecha pago para actualizar" [nbDatepicker]="paymentpicker" style="display:block; width: 250px;"
        class="form-control" [(ngModel)]="pago.fechaPago">
      <nb-datepicker #paymentpicker></nb-datepicker>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button class="btn btn-success" (click)="updatePaymentStatus()" [disabled]="pago.fechaPago==undefined">Actualizar a Pagado</button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button class="btn btn-warning" (click)="exit()">Salir</button>
    </div>


  </nb-card-footer>
</nb-card>